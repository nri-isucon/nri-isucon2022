(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[773],{6010:function(e,s,t){"use strict";function n(e){var s,t,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(s=0;s<e.length;s++)e[s]&&(t=n(e[s]))&&(r&&(r+=" "),r+=t);else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function r(){for(var e,s,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(s=n(e))&&(r&&(r+=" "),r+=s);return r}t.d(s,{Z:function(){return r}})},5588:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reservationHome",function(){return t(1039)}])},3193:function(e,s,t){"use strict";var n=t(5893);s.Z=function(){return(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-y-10 px-32 py-14 bg-gray-100 text-gray-600",children:[(0,n.jsxs)("div",{className:"space-y-4 text-xs text-gray-800",children:[(0,n.jsx)("h5",{className:"font-bold",children:"ABOUT"}),(0,n.jsx)("p",{children:"How isubnb works"}),(0,n.jsx)("p",{children:"Newsroom"}),(0,n.jsx)("p",{children:"Investors"})]}),(0,n.jsxs)("div",{className:"space-y-4 text-xs text-gray-800",children:[(0,n.jsx)("h5",{className:"font-bold",children:"COMMUNITY"}),(0,n.jsx)("p",{children:"Diversity & Belonging"}),(0,n.jsx)("p",{children:"Against Discrimination"}),(0,n.jsx)("p",{children:"Accessibility"}),(0,n.jsx)("p",{children:"isubnb Associates"}),(0,n.jsx)("p",{children:"Guest Referrals"})]}),(0,n.jsxs)("div",{className:"space-y-4 text-xs text-gray-800",children:[(0,n.jsx)("h5",{className:"font-bold",children:"HOST"}),(0,n.jsx)("p",{children:"Host your home"}),(0,n.jsx)("p",{children:"Host an Online Experience"}),(0,n.jsx)("p",{children:"Host an Experience"}),(0,n.jsx)("p",{children:"Responsible hosting"}),(0,n.jsx)("p",{children:"Resource Center"})]}),(0,n.jsxs)("div",{className:"space-y-4 text-xs text-gray-800",children:[(0,n.jsx)("h5",{className:"font-bold",children:"SUPPORT"}),(0,n.jsx)("p",{children:"Help Center"}),(0,n.jsx)("p",{children:"Cancellation options"}),(0,n.jsx)("p",{children:"Neighborhood Support"}),(0,n.jsx)("p",{children:"Trust & Safety"})]})]})}},7673:function(e,s,t){"use strict";var n=t(5893),r=t(1664),l=t(3153),i=t(7294),a=t(286),c=t(387),o=t(4990);t(1541),t(2049);s.Z=function(e){var s=e.placeholder,t=e.isInVisible,d=(0,i.useState)(""),x=d[0],u=d[1],h=(0,i.useState)(!1),f=h[0],m=h[1],p=(0,i.useState)(!1),j=p[0],v=p[1],b=(0,i.useState)(new Date),g=b[0],N=b[1],w=(0,i.useState)(new Date),y=w[0],k=w[1],D=(0,i.useState)(1),C=D[0],S=D[1],_=(0,c.useRouter)(),O=(0,i.useRef)();(0,i.useEffect)((function(){j&&O.current.focus()}),[j]);var P=function(e){N(e.selection.startDate),k(e.selection.endDate)},I=function(){m(!1)},H=function(){_.push({pathname:"/search",query:{location:x,startDate:g.toISOString(),endDate:y.toISOString(),numberOfGuests:C,style:""}})},R={startDate:g,endDate:y,key:"selection",minDate:new Date};return(0,o.a)("(max-width: 36rem)"),(0,n.jsxs)("header",{className:"sticky top-0 z-50 grid grid-cols-3 bg-white shadow-md py-5 px-5 md:px-10",children:[(0,n.jsx)("div",{onClick:function(){return _.push("/")},className:"relative flex items-center h-10 cursor-pointer my-auto",children:(0,n.jsx)("img",{src:"/isubnb.png",height:"50px",width:"150px"})}),t?(0,n.jsx)("div",{}):(0,n.jsxs)("div",{className:"flex items-center md:border-2 rounded-full py-2 md:shadow-sm",children:[(0,n.jsx)("input",{value:x,onChange:function(e){return u(e.target.value)},onFocus:function(){m(!0),console.log(f)},onKeyPress:function(e){return function(e){13===e.which&&H()}(e)},className:"flex-grow pl-5 bg-transparent outline-none text-sm text-gray-600 placeholder-gray-400",type:"text",placeholder:s||"Start your search"}),(0,n.jsx)(l.W1M,{className:"hidden md:inline-flex h-8 bg-red-400 text-white rounded-full p-2 cursor-pointer md:mx-2",onClick:H})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4 justify-end text-gray-500",children:[(0,n.jsx)("div",{className:"w-56 z-40 fixed text-left mt-48 mr-2 rounded bg-white drop-shadow-lg ".concat(j?"":"hidden"),children:(0,n.jsxs)("ul",{onBlur:function(){return setTimeout((function(){return v(!1)}),120)},ref:O,tabIndex:1,className:"outline-none",children:[(0,n.jsx)("li",{children:(0,n.jsx)(r.default,{href:"/trips",children:(0,n.jsx)("a",{href:"#",className:"block px-8 py-4 my-1 hover:bg-gray-200",children:"\u65c5\u884c"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(r.default,{href:"/activities",children:(0,n.jsx)("a",{href:"#",className:"block px-8 py-4 my-1 hover:bg-gray-200",children:"\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3"})})})]})}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 border-2 p-2 cursor-pointer rounded-full hover:shadow-md",onClick:function(){return v(!j)},children:[(0,n.jsx)(l.Oqj,{className:"h-8"}),(0,n.jsx)("div",{className:"flex h-10 w-10 relative",children:(0,n.jsx)("img",{src:"/profile.jpg",layout:"fill",className:"rounded-full overflow-hidden object-cover w-full block"})})]})]}),f&&(0,n.jsxs)("div",{className:"flex flex-col col-span-3 mx-auto mt-5",children:[(0,n.jsx)(a.C0,{ranges:[R],minDate:new Date,rangeColors:["#FD5B61"],onChange:P}),(0,n.jsxs)("div",{className:"flex items-center border-b mb-4",children:[(0,n.jsx)("h2",{className:"text-2xl flex-grow font-semibold",children:"Number of Guests"}),(0,n.jsx)(l.oyc,{className:"h-5"}),(0,n.jsx)("input",{value:C,onChange:function(e){return S(e.target.value)},className:"w-12 pl-2 text-lg outline-none text-red-400",type:"number",min:1})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("button",{onClick:function(){u(""),I()},className:"flex-grow text-gray-500",children:"Cancel"}),(0,n.jsx)("button",{onClick:H,className:"flex-grow text-red-400",children:"Search"})]})]})]})}},1039:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var n=t(4051),r=t.n(n),l=t(5893),i=t(9008),a=t(7294),c=t(1163),o=t(8100),d=t(7673),x=t(3193),u=t(8357),h=t(8193),f=t(2132),m=(t(993),t(5559));function p(e,s,t,n,r,l,i){try{var a=e[l](i),c=a.value}catch(o){return void t(o)}a.done?s(c):Promise.resolve(c).then(n,r)}var j=function(e){var s=e.homeId,t=e.startDate,n=e.endDate,i=e.img,a=e.rate,o=e.price,d=e.name,x=e.numberOfGuests,j=(0,c.useRouter)(),v=(new Date(n)-new Date(t))/864e5,b={home_id:s,user_id:"1",start_date:t.replaceAll("/","-"),end_date:n.replaceAll("/","-"),number_of_people:parseInt(x)},g=function(){var e,s=(e=r().mark((function e(s){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.ZP.post("/reservation_home",s).catch((function(e){return f.Am.error(e.response.data.message)}));case 2:void 0!==(t=e.sent)&&200===t.status&&j.push("/reservationResult");case 4:case"end":return e.stop()}}),e)})),function(){var s=this,t=arguments;return new Promise((function(n,r){var l=e.apply(s,t);function i(e){p(l,n,r,i,a,"next",e)}function a(e){p(l,n,r,i,a,"throw",e)}i(void 0)}))});return function(e){return s.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Ix,{position:"top-right",autoClose:1e4,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,l.jsxs)("div",{className:"float-right border-2 rounded-3xl shadow-xl h-auto w-[350px] p-4",children:[(0,l.jsxs)("div",{className:"flex space-x-2 overflow-scroll scrollbar-hide pt-3 ml-3",children:[(0,l.jsx)("div",{className:"flex relative h-16 w-16",children:(0,l.jsx)("img",{className:"rounded-lg overflow-hidden object-cover w-full block",src:"".concat(m.Hc).concat(i)})}),(0,l.jsxs)("div",{className:"flex-col",children:[(0,l.jsx)("h3",{className:"text-base pt-1 pb-1",children:d}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(u.Pd.Provider,{value:{color:"rgb(255, 56, 92)"},children:(0,l.jsx)("div",{children:(0,l.jsx)(h.gwB,{})})}),(0,l.jsx)("div",{className:"text-base pl-1",children:a.toFixed(2)})]})]})]}),(0,l.jsxs)("div",{className:"border-t border-y-stone-800 my-4 w-auto",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold pt-5",children:"\u6599\u91d1\u306e\u8a73\u7d30"}),v>=1?(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between space-x-2 overflow-scroll scrollbar-hide pt-3 ml-3",children:[(0,l.jsxs)("div",{className:"text-base font-light underline",children:["\xa5",(o*x).toLocaleString()," \xd7 ",v,"\u6cca"]}),(0,l.jsxs)("div",{className:"text-base font-light text-right",children:["\xa5",(o*x*v).toLocaleString()]})]}),(0,l.jsxs)("div",{className:"flex justify-between space-x-2 overflow-scroll scrollbar-hide pt-3 pb-5 ml-3",children:[(0,l.jsxs)("div",{className:"text-base font-semibold",children:["\u5408\u8a08\u984d(",(0,l.jsx)("span",{className:"underline",children:"JPY"}),")"]}),(0,l.jsxs)("div",{className:"text-base text-right",children:["\xa5",(o*x*v).toLocaleString()]})]}),(0,l.jsx)("button",{className:"bg-red-500 text-white font-bold py-2 px-4 rounded -xl hover:bg-red-700 transform transition duration-300 ease-out w-full",onClick:function(){return g(b)},children:"\u78ba\u8a8d\u3057\u3066\u652f\u6255\u3046"})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex justify-between space-x-2 overflow-scroll scrollbar-hide pt-3 ml-3",children:(0,l.jsx)("div",{className:"text-base font-light",children:"\u4e88\u7d04\u671f\u9593\u304c\u4e0d\u6b63\u306a\u5024\u3067\u3059"})}),(0,l.jsxs)("div",{className:"flex justify-between space-x-2 overflow-scroll scrollbar-hide pt-3 pb-5 ml-3",children:[(0,l.jsxs)("div",{className:"text-base font-semibold",children:["\u5408\u8a08\u984d(",(0,l.jsx)("span",{className:"underline",children:"JPY"}),")"]}),(0,l.jsx)("div",{className:"text-base text-right",children:"-"})]}),(0,l.jsx)("button",{className:"bg-red-200 text-white font-bold py-2 px-4 rounded -xl w-full cursor-not-allowed",children:"\u78ba\u8a8d\u3057\u3066\u652f\u6255\u3046"})]})]})]})]})};function v(e,s,t,n,r,l,i){try{var a=e[l](i),c=a.value}catch(o){return void t(o)}a.done?s(c):Promise.resolve(c).then(n,r)}function b(e){return function(){var s=this,t=arguments;return new Promise((function(n,r){var l=e.apply(s,t);function i(e){v(l,n,r,i,a,"next",e)}function a(e){v(l,n,r,i,a,"throw",e)}i(void 0)}))}}var g=function(e){return m.ZP.get(e).then((function(e){return e.data}))};function N(){var e=(0,c.useRouter)(),s=e.query,t=s.homeId,n=s.startDate,u=s.endDate,h=s.numberOfGuests,f=(0,a.useState)(h),m=f[0],p=f[1],v=(0,o.ZP)("/home/".concat(t),g).data;return(0,a.useEffect)((function(){function e(){return(e=b(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(isNaN(m)||m<1)&&p(1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n,u,m]),void 0===v?(0,l.jsx)("div",{children:"loading..."}):(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)(i.default,{children:[(0,l.jsx)("title",{children:"Isubnb"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)("main",{className:"max-w-7xl mx-auto px-8 sm:px-16",children:[(0,l.jsxs)("div",{className:"flex space-x-3 overflow-scroll scrollbar-hide pt-3",children:[(0,l.jsx)("div",{className:"font-bold rounded-full h-8 w-8 flex items-center justify-center cursor-pointer hover:bg-gray-100 my-8",onClick:function(){return e.back()},children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("h2",{className:"text-4xl font-semibold py-8",children:"\u78ba\u8a8d\u3057\u3066\u652f\u6255\u3046"})})]}),(0,l.jsx)("section",{children:(0,l.jsxs)("div",{className:"flex space-x-2 overflow-scroll scrollbar-hide pt-3 -ml-3 min-h-[700px]",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-2xl font-semibold pt-2 pb-4",children:"\u65c5\u884c"}),(0,l.jsx)("h4",{className:"text-xg font-semibold",children:"\u4e88\u7d04\u671f\u9593"}),new Date(u)<=new Date(n)?(0,l.jsx)("p",{className:"text-lg sm:text-lg pt-1 pb-4",children:"\u4e88\u7d04\u671f\u9593\u3092\u898b\u76f4\u3057\u3066\u30cd"}):(0,l.jsxs)("p",{className:"text-lg sm:text-lg pt-1 pb-4",children:[n,"\u301c",u]}),(0,l.jsx)("h4",{className:"text-xg font-semibold",children:"\u4e88\u7d04\u4eba\u6570"}),(0,l.jsxs)("p",{className:"text-lg sm:text-lg pt-1 pb-4",children:["\u30b2\u30b9\u30c8",m,"\u540d"]}),(0,l.jsx)("div",{className:"border-t border-b border-y-stone-800 mt-5 min-w-[500px]",children:(0,l.jsx)("p",{className:"text-lg sm:text-lg py-5",children:v.description})})]}),(0,l.jsx)("div",{className:"min-w-[500px] content-center px-10 z-10 sticky",children:(0,l.jsx)(j,{homeId:t,startDate:n,endDate:u,img:v.photo_1,rate:v.rate,price:v.price,name:v.name,numberOfGuests:m})})]})})]}),(0,l.jsx)(x.Z,{})]})}},5559:function(e,s,t){"use strict";t.d(s,{Hc:function(){return i}});var n=t(9669),r=t.n(n),l="".concat("","/api/v1"),i="",a=r().create({baseURL:l});s.ZP=a},9008:function(e,s,t){e.exports=t(5443)}},function(e){e.O(0,[774,617,313,145,624,888,179],(function(){return s=5588,e(e.s=s);var s}));var s=e.O();_N_E=s}]);